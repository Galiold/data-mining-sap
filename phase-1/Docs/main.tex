\documentclass{article}
\usepackage{geometry}
\usepackage{ragged2e}
\usepackage{indentfirst}
\usepackage{listings}
\usepackage{xcolor} % for setting colors
\usepackage[justification=centering]{caption}
\usepackage{graphicx,wrapfig}
\usepackage{float}
\usepackage{xepersian}
% \settextfont{Yas}
\settextfont[BoldFont={XB Yas Bd}, ItalicFont={XB Yas It}, BoldItalicFont={XB Yas BdIt}, Extension = .ttf]{XB Yas}
\usepackage{setspace}
\usepackage{listings}

\geometry{a4paper,
 total={170mm,257mm},
 left=30mm,
 right=30mm,
 top=20mm,
 bottom=40mm
 }

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  language=Java,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=false,
  breakatwhitespace=true,
  tabsize=4
}

\doublespacing
\makeatletter
\let\footnoteruleA=\right@footnoterule
\let\Afootnoterule=\right@footnoterule
\makeatother
\rightfootnoterule

\title{\textbf{توضیحات فاز اول پروژه‌ی داده‌کاوری}}
\author{محمد کاهانی، علی گلدانی}
\date{\parbox{\linewidth}{\centering
    عنوان پایگاه داده: SAP\endgraf
    \today\endgraf
    }}

\begin{document}
    \maketitle

    \begin{large}
        \section{شرح کلی دیتاست}
        SAP یک دیتاست آموزشی می‌باشد که از یک سیستم مدیریت آموزش به نام Kalboard-360 گردآوری شده است.
        این سیستم با هدف تسریع فرایند یادگیری، با استفاده از تکنولوژی‌های روز طراحی شده است و
        امکان دسترسی همگام‌سازی شده به منابع آموزشی را از طریق هر دستگاه متصل به اینترنت، به کاربران می‌دهد.

        این مجموعه داده از طریق یک ابزار ثبت فعالیت کاربران تهیه شده است. این ابزار رابط کابری تجربه (xAPI) نام دارد.
        این ابزار امکان نظارت بر روی نحوه‌ی پیشرفت یادگیری کاربران را از طریق ثبت فعالیت‌هایی مانند خواندن یک مقاله یا مشاهده‌ی یک ویدیو فراهم می‌کند.
        این ابزار به مسئولین کمک می‌کند تا بتوانند با تحلیل روند استفاده و پیشرفت کاربران، یک تجربه‌ی آموزشی را توصیف کنند.
        این مجموعه‌داده شامل ۴۸۰ دانش‌آموز و ۱۶ ویژگی در رابطه باآن‌هاست. این ویژگی‌ها در ۳ دسته‌ی کلی طبقه‌بندی می‌شوند:
        \begin{enumerate}
            \item اطلاعات جمعیتی مانند جنسیت و ملیت
            \item ویژگی‌های مربوط به سابقه‌ی تحصیلی مانند مقطع تحصیلی، سطح نمره و کلاس دانشجو
            \item ویژگی‌های رفتاری مانند تعداد دفعاتی که دانش‌آموز دستش را در کلاس بالا برده‌است، میزان استفاده از منابع درسی، پاسخگویی به پرسشنامه‌ها توسط والدین و رضایت از مدرسه
        \end{enumerate}
        دانش‌آموزان بر اساس نمره‌ی کل آن‌ها به سه بازه‌ی عددی تقسیم می‌شوند:
        \begin{itemize}
            \item \textbf{سطح پایین}: نمرات در بازه‌ی ۰ تا ۶۹
            \item \textbf{سطح متوسط}: نمرات در بازه‌ی ۷۰ تا ۸۹
            \item \textbf{سطح بالا}: نمرات در بازه‌ی ۹۰ تا ۱۰۰
        \end{itemize}

        \newpage
        \textbf{توضیح ویژگی‌های مجموعه‌داده:}
        \begin{center}
            \begin{tabular}{ | p{40mm} | p{100mm} | }
                \hline
                {\textbf{ویژگی}} & 
                {\textbf{توصیف}} \\
                \hline
                gender & جنسیت دانش‌آموز \\
                \hline
                Nationality & ملیت دانش‌آموز \\
                \hline
                PlaceofBirth & محل تولد دانش‌آموز \\
                \hline
                ‌StageId & مقطع تحصیلی دانش‌آموز \\
                \hline
                GradeId & سال تحصیلی دانش‌آموز \\
                \hline
                SectionId & کلاسی که دانش‌آموز در آن است \\
                \hline
                Topic & موضوع درس \\
                \hline
                Semester & نیم‌سال تحصیلی \\
                \hline
                Relation & پدر یا مادر مسئول دانشجو \\
                \hline
                raisedhands & میزان دفعاتی که دانش‌آموز دستش را در کلاس بالا برده است \\
                \hline
                VisitedResources & تعداد دفعاتی که دانش‌آموز منابع درس را مشاهده کرده است \\
                \hline
                AnnouncementsView & تعداد دفعاتی که دانش‌آموز اعلانات جدید را چک می‌کند \\
                \hline
                Discussion & تعداد دفعاتی که دانش‌آموز در گروه‌های مباحثه شرکت کرده‌است \\
                \hline
                ParentAnsweringSurvey & این که پدر یا مادر دانش‌آموز به پرسش‌نامه‌های مدرسه پاسخ داده است یا خیر \\
                \hline
                ParentschoolSatisfaction & این که پدر یا مادر از مدرسه رضایت داشته‌اند یا خیر \\
                \hline
                StudentAbsenceDays & این که دانش‌آموز بیش از ۷ جلسه غیبت داشته‌است یا خیر \\
                \hline
                Class & طبقه‌بندی دانش‌آموز بر اساس نمره‌ی کل \\
                \hline
            \end{tabular}
        \end{center}

        \newpage
        \section{پیش‌پردازش داده‌ها}
        \subsection{Cleaning Data}
        
        در این دیتاست، مجموعا ۱۸ ویژگی داریم که ۴تای آن‌ها مقادیر عددی هستند و سایر ویژگی‌ها Nominal یا Categorical هستند.
        با رسم نمودار BoxPlot بر روی این مقادیر عددی (شکل \ref{fig:boxplot})، متوجه می‌شویم که داده‌ها مقدار نویز ندارند، پس نیازی به انجام عملیات برای حذف نویز در آن‌ها نیست.

        \begin{figure}[h]
            \centering
            \includegraphics[width=1\textwidth]{images/boxplot.png}
            \caption{Diagram BoxPlot}
            \label{fig:boxplot}
        \end{figure}

        \subsection{Integration Data}
        از آن جایی که ما تنها یک جدول در اختیار داریم، عملیات مربوط به این بخش کاربرد زیادی ندارد. فقط برای این‌ که داده‌ی تکراری وجود نداشته باشد، عملیات لازم را بر روی دیتاست اجرا می‌کنیم
        و در نتیجه مشاهده می‌کنیم که داده‌ی تکراری وجود ندارد.

        \subsection{Reduction Data}
        در این قسمت ابتدا به بررسی ارتباط بین داده‌ها پرداختیم، با بررسی مقادیر Nationality و PlaceofBirth می‌توانیم نتیجه بگیریم که این دو تا حد زیادی شبیه به یکدیگر هستند.
        این شباهت را می‌توان با بررسی Correlation بین این دو مقدار به دست آورد،
        پس می‌توانیم یکی از این دو ویژگی را در نظر بگیریم.
        به همین روش با محاسبه‌ی Correlation برای سایر ویژگی‌ها، به درک خوبی از  ارتباط بین صفت‌ها رسیدیم؛ به عنوان مثال با استفاده از Chi-Square به این نتیجه رسیدیم که صفت StudentAbsenceDays با Class رابطه‌ی معکوس دارد.
        
        در مرحله‌ی بعد، برای کاهش ابعاد داده و یافتن صفت‌های تأثیر‌گذار در دسته‌بندی کلاس دانش‌آموزان، از روش PCA استفاده کردیم. در نتیجه، ویژگی‌های تأثیرگذار در تعیین کلاس مشخص شدند، که EigenVector های مربوط به این ویژگی‌ها در شکل \ref{fig:pca} مشخص شده‌اند.

        \begin{figure}[h]
            \centering
            \includegraphics[width=.8\textwidth]{images/eigenvectors.png}
            \caption{Class by grouped EigenVectors PCA}
            \label{fig:pca}
        \end{figure}

        همان‌ طور که در شکل \ref{fig:pca} مشخص است، مهم‌ترین صفت‌ها در طبقه‌بندی کلاس دانش‌آموزان به ترتیب raisedhands و VisitedResources و AnnouncementsView و StudentAbsenceDays هستند.
        (لازم به ذکر است که مقادیر کلاس دانش‌آموزان به ۰ به عنوان خوب، ۰/۵ به عنوان بد و ۱ به عنوان متوسط نگاشت شده‌اند.)

        حال برای این که مشخص کنیم برای نگهداری درصدهای مختلف از تغییرات داده، چند ویژگی را باید حفظ کنیم، مقدار EigenValue ها را رسم می‌کنیم (شکل \ref{fig:eigenvalue})، بردارهایی که مقدار آن‌ها کمتر از ۱ باشد، توضیح زیادی درباره‌ی داده‌ها نمی‌دهند، پس می‌توانیم آن‌ها را در نظر نگیریم.
        به این ترتیب مشاهده می‌شود که فقط نگه‌داری ۶ بردار اصلی کافی‌ است.

        \begin{figure}[h]
            \centering
            \includegraphics[width=.7\textwidth]{images/pca-ordered-variance.png}
            \caption{EigenValues}
            \label{fig:eigenvalue}
        \end{figure}

        حال برای یافتن این که چه تعداد از بردارهای ویژه، برای حفظ ۶۰، ۸۰ یا ۹۰ درصد تغییرات داده لازم است، باید به نمودار واریانس تجمعی از نتایج PCA توجه کنیم (شکل \ref{fig:var-cum}) متوجه می‌شویم که برای حفظ ۶۰٪، به ۶ ویژگی، برای ۸۰٪، به ۱۰ ویژگی، و برای ۹۰٪ به ۱۳ ویژگی نیاز داریم.
        
        \begin{figure}[h]
            \centering
            \includegraphics[width=.7\textwidth]{images/cumulative-variance.png}
            \caption{Variances Cumulative}
            \label{fig:var-cum}
        \end{figure}

        \newpage
        بهترین بردار ویژه، برداریست که که بیشترین EigenValue را داشته و درصد بیشتری از واریانس را شامل شود. محاسبه‌ی آن با استفاده از ماتریس  Correlation یا Covariance انجام می‌گیرد.

        یک راه دیگر برای کاهش ابعاد داده، Regression Stepwise است که می‌توانید نحوه‌ی اجرای آن را در کدها ببینید. در کدها از ترکیب روش‌های forward و backward استفاده شده است.

        \subsection{Discretization Data and Transformation Data}
        با توجه به داده‌های موجود، نیازی به گسسته‌سازی و تجمیع صفت‌ها نبود، اما به دلیل این که بخش زیادی از صفت‌ها مقادیر غیر عددی بودند، نیاز بود تا ابتدا داده‌ها به مقادیر عددی تبدیل شوند
        و پس از آن نرمال‌سازی بر روی آن‌ها اجرا شود تا برای استفاده در PCA آماده شوند.
        
\end{large}

	 
\end{document}